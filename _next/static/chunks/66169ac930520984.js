(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42416,e=>{"use strict";var t=e.i(43476),n=e.i(71645),a=e.i(74080);let l={abidos:{rare:33,uncommon:45,common:86},superior:{rare:43,uncommon:59,common:112}};function r(){let[e,r]=(0,n.useState)("superior"),[o,s]=(0,n.useState)(1),[i,c]=(0,n.useState)(0),[d,b]=(0,n.useState)(0),[u,x]=(0,n.useState)(0),[m,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("matCalcData");if(e)try{let t=JSON.parse(e);s(Number(t.targetSlots)||1),c(Number(t.ownedRare)||0),b(Number(t.ownedUncommon)||0),x(Number(t.ownedCommon)||0),t.activeTab&&r(t.activeTab)}catch(e){console.error(e)}},[]),(0,n.useEffect)(()=>{localStorage.setItem("matCalcData",JSON.stringify({targetSlots:o,ownedRare:i,ownedUncommon:d,ownedCommon:u,activeTab:e}))},[o,i,d,u,e]);let h=(0,n.useMemo)(()=>{let t=Math.max(0,o),n={rare:i,uncommon:d,common:u},a={},r=l[e];return Object.keys(r).forEach(e=>{let l=r[e]*t,o=l-n[e],s=o<=0?0:Math.ceil(o/100);a[e]={buyCount:s,needed:l}}),a},[o,i,d,u,e]),f=async()=>{if(!("documentPictureInPicture"in window))return void alert("PiP 미지원");try{let e=await window.documentPictureInPicture.requestWindow({width:340,height:600});p(e);let t=document.createElement("style");t.textContent=`
        * { box-sizing: border-box; }
        body { background: #0f111a; color: white; font-family: 'Pretendard', sans-serif; padding: 12px 10px; margin: 0; overflow: hidden; }
        .container { display: flex; flex-direction: column; gap: 10px; }
        .tab-box { display: flex; background: #1a1d29; border-radius: 8px; padding: 2px; margin-bottom: 5px; }
        .tab-btn { flex: 1; padding: 6px; border: none; background: transparent; color: #64748b; font-size: 11px; font-weight: bold; cursor: pointer; border-radius: 6px; }
        .tab-btn.active { background: #334155; color: white; }
        .label { font-size: 11px; font-weight: bold; color: #475569; margin-bottom: 3px; display: block; }
        .input-row { display: flex; align-items: center; background: #1a1d29; border-radius: 8px; padding: 6px 12px; }
        .input-row span { font-size: 12px; font-weight: bold; width: 45px; }
        input { background: transparent; border: none; color: white; text-align: right; font-weight: 900; width: 100%; outline: none; font-size: 18px; }
        .res-box { margin-top: 5px; padding-top: 12px; border-top: 1px solid #334155; display: flex; flex-direction: column; gap: 6px; }
        .res-row { display: flex; justify-content: space-between; align-items: center; }
        .buy-val { color: #fbbf24; font-weight: 900; font-size: 24px; }
        .update-btn { width: 100%; padding: 12px; background: #2563eb; color: white; border: none; border-radius: 8px; font-weight: bold; margin-top: 10px; cursor: pointer; }
        .update-btn:active { background: #1d4ed8; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
      `,e.document.head.appendChild(t),e.addEventListener("pagehide",()=>{p(null)})}catch(e){console.error(e),alert("PiP 실행 실패")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("section",{className:"bg-white/[0.03] border border-white/5 rounded-[2rem] p-8 shadow-2xl",children:[(0,t.jsxs)("header",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-black tracking-tight text-white mb-4",children:"재료 계산 및 저장"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-1 p-1 bg-black/40 rounded-xl border border-white/5",children:[(0,t.jsx)("button",{onClick:()=>r("abidos"),className:`py-3 rounded-lg text-sm font-bold transition-all ${"abidos"===e?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"아비도스"}),(0,t.jsx)("button",{onClick:()=>r("superior"),className:`py-3 rounded-lg text-sm font-bold transition-all ${"superior"===e?"bg-blue-600/80 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"상급 아비도스"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1",children:"목표 제작 슬롯"}),(0,t.jsx)("input",{type:"number",value:o,onChange:e=>s(Number(e.target.value)),min:"1",className:"w-full bg-black/40 border border-white/10 rounded-2xl px-5 py-4 text-2xl font-black text-blue-500 focus:border-blue-500 outline-none transition-all"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1",children:"현재 보유량"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-black/30 p-4 rounded-2xl border border-white/5",children:[(0,t.jsx)("span",{className:"w-12 text-sm font-bold text-[#3b82f6]",children:"희귀"}),(0,t.jsx)("input",{type:"number",value:i,onChange:e=>c(Number(e.target.value)),className:"flex-1 bg-transparent text-right font-black text-xl outline-none"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-black/30 p-4 rounded-2xl border border-white/5",children:[(0,t.jsx)("span",{className:"w-12 text-sm font-bold text-[#1eff00]",children:"고급"}),(0,t.jsx)("input",{type:"number",value:d,onChange:e=>b(Number(e.target.value)),className:"flex-1 bg-transparent text-right font-black text-xl outline-none"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-black/30 p-4 rounded-2xl border border-white/5",children:[(0,t.jsx)("span",{className:"w-12 text-sm font-bold text-white",children:"일반"}),(0,t.jsx)("input",{type:"number",value:u,onChange:e=>x(Number(e.target.value)),className:"flex-1 bg-transparent text-right font-black text-xl outline-none"})]})]}),(0,t.jsx)("button",{onClick:f,className:"w-full py-5 bg-blue-600 hover:bg-blue-500 text-white rounded-2xl font-black transition-all shadow-xl shadow-blue-600/20 uppercase tracking-widest text-sm mt-4 cursor-pointer",children:"오버레이 실행 (PiP)"})]})]}),(0,t.jsxs)("section",{className:"bg-blue-600/5 border border-blue-500/10 rounded-[2rem] p-8 flex flex-col",children:[(0,t.jsxs)("h2",{className:"text-xs font-black text-blue-500 uppercase tracking-widest mb-8",children:["구매 필요 횟수 (","abidos"===e?"아비도스":"상급 아비도스",")"]}),(0,t.jsx)("div",{className:"space-y-8 flex-1",children:[{key:"rare",label:"희귀 재료",color:"#3b82f6"},{key:"uncommon",label:"고급 재료",color:"#1eff00"},{key:"common",label:"일반 재료",color:"#ffffff"}].map(({key:e,label:n,color:a})=>{let l=h[e];return(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:[(0,t.jsx)("span",{className:"text-lg font-bold",style:{color:a},children:n}),(0,t.jsxs)("div",{className:`text-4xl font-black ${l.buyCount>0?"text-amber-400":"text-slate-700"}`,children:[l.buyCount," ",(0,t.jsx)("span",{className:"text-sm font-normal text-slate-500 ml-1",children:"회"})]})]},e)})})]})]}),m&&(0,a.createPortal)((0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"tab-box",children:[(0,t.jsx)("button",{className:`tab-btn ${"abidos"===e?"active":""}`,onClick:()=>r("abidos"),children:"아비도스"}),(0,t.jsx)("button",{className:`tab-btn ${"superior"===e?"active":""}`,onClick:()=>r("superior"),children:"상급 아비도스"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"목표 슬롯"}),(0,t.jsx)("div",{className:"input-row",children:(0,t.jsx)("input",{type:"number",value:o,onChange:e=>s(Number(e.target.value))})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"보유량"}),(0,t.jsxs)("div",{className:"input-row",style:{marginBottom:4},children:[(0,t.jsx)("span",{style:{color:"#3b82f6"},children:"희귀"}),(0,t.jsx)("input",{type:"number",value:i,onChange:e=>c(Number(e.target.value))})]}),(0,t.jsxs)("div",{className:"input-row",style:{marginBottom:4},children:[(0,t.jsx)("span",{style:{color:"#1eff00"},children:"고급"}),(0,t.jsx)("input",{type:"number",value:d,onChange:e=>b(Number(e.target.value))})]}),(0,t.jsxs)("div",{className:"input-row",children:[(0,t.jsx)("span",{style:{color:"#ffffff"},children:"일반"}),(0,t.jsx)("input",{type:"number",value:u,onChange:e=>x(Number(e.target.value))})]})]}),(0,t.jsx)("div",{className:"res-box",children:[{key:"rare",label:"희귀",color:"#3b82f6"},{key:"uncommon",label:"고급",color:"#1eff00"},{key:"common",label:"일반",color:"#ffffff"}].map(({key:e,label:n,color:a})=>{let l=h[e];return(0,t.jsxs)("div",{className:"res-row",children:[(0,t.jsx)("span",{style:{fontSize:13,fontWeight:"bold",color:a},children:n}),(0,t.jsx)("span",{className:"buy-val",children:l.buyCount>0?(0,t.jsxs)(t.Fragment,{children:[l.buyCount,(0,t.jsx)("span",{style:{fontSize:12,fontWeight:"normal",color:"#64748b"},children:"회"})]}):(0,t.jsx)("span",{style:{color:"#475569",fontSize:14},children:"충분"})})]},e)})}),(0,t.jsx)("button",{className:"update-btn",onClick:()=>{c(e=>e+100*h.rare.buyCount-h.rare.needed),b(e=>e+100*h.uncommon.buyCount-h.uncommon.needed),x(e=>e+100*h.common.buyCount-h.common.needed)},children:"제작 완료 (보유량 업데이트)"})]}),m.document.body)]})}e.s(["default",()=>r])}]);