(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42416,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(74080);let s={abidos:{rare:33,uncommon:45,common:86,gold:400},superior:{rare:43,uncommon:59,common:112,gold:520}};class o{static BASE_URL="https://developer-lostark.game.onstove.com";static async getMarketPrice(e,t,r,a){try{console.log(`[API] Searching for ${r} (Category: ${a})...`);let s=await fetch(`${this.BASE_URL}/markets/items`,{method:"POST",headers:{Authorization:`bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({Sort:"CURRENT_MIN_PRICE",CategoryCode:a,ItemName:r,PageNo:1,SortCondition:"ASC"})});if(!s.ok)throw Error(`API Error: ${s.status}`);let o=await s.json();console.log(`[API] Response for ${r}:`,o);let l=o.Items||[],n=l.find(e=>e.Id===t)||l[0];if(n)return console.log("[API] Found item:",n),{price:n.CurrentMinPrice||n.RecentPrice||0,bundleCount:n.BundleCount||1};return null}catch(e){throw e}}static async searchItems(e,t){try{let r=await fetch(`${this.BASE_URL}/markets/items`,{method:"POST",headers:{Authorization:`bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({Sort:"GRADE",CategoryCode:5e4,ItemName:t,PageNo:1,SortCondition:"ASC"})});if(!r.ok){let r=await fetch(`${this.BASE_URL}/markets/items`,{method:"POST",headers:{Authorization:`bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({Sort:"GRADE",ItemName:t,PageNo:1,SortCondition:"ASC"})});if(!r.ok)throw Error(`Search Error: ${r.status}`);return await r.json()}return await r.json()}catch(e){throw console.error("Search failed:",e),e}}}let l={name:"ëª©ì¬",id:6882301,categoryCode:90300},n={name:"ë¶€ë“œëŸ¬ìš´ ëª©ì¬",id:6882304,categoryCode:90300},i={name:"ì•„ë¹„ë„ìŠ¤ ëª©ì¬",id:6884308,categoryCode:90300},c={name:"ì•„ë¹„ë„ìŠ¤ ìœµí™” ì¬ë£Œ",id:6861012,categoryCode:50010},d={name:"ìƒê¸‰ ì•„ë¹„ë„ìŠ¤ ìœµí™” ì¬ë£Œ",id:6861013,categoryCode:50010},x={isActive:!1,startTime:null,endTime:null,batchDuration:null,type:"superior",concurrency:3,totalSlots:0};function m({className:e=""}){return(0,t.jsxs)("div",{className:`w-80 bg-[var(--bg-panel)]/90 backdrop-blur-md border border-[var(--border-color)] rounded-xl p-4 shadow-2xl flex flex-col gap-4 ${e}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-[var(--border-color)] pb-2",children:[(0,t.jsx)("h3",{className:"text-xs font-bold text-[var(--color-primary)] uppercase tracking-widest",children:"ì„¤ì • ê°€ì´ë“œ ì˜ˆì‹œ"}),(0,t.jsx)("span",{className:"text-[10px] text-[var(--text-secondary)]",children:"ë¡œë‚˜ìš´ì˜ ê³ ì„œ"})]}),(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden border border-[var(--border-color)] group",children:(0,t.jsx)("img",{src:"/images/guide_ronaun.png",alt:"Bonus Guide Example",className:"w-full h-auto object-cover opacity-90 group-hover:opacity-100 transition-opacity"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs bg-white/5 p-2 rounded-lg",children:[(0,t.jsx)("span",{className:"text-[var(--text-secondary)] font-medium",children:"ì œì‘ ìˆ˜ìˆ˜ë£Œ ê°ì†Œ"}),(0,t.jsx)("span",{className:"text-[var(--color-accent)] font-bold",children:"16%"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs bg-white/5 p-2 rounded-lg",children:[(0,t.jsx)("span",{className:"text-[var(--text-secondary)] font-medium",children:"ëŒ€ì„±ê³µ í™•ë¥ "}),(0,t.jsx)("span",{className:"text-[var(--color-accent)] font-bold",children:"7%"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs bg-white/5 p-2 rounded-lg",children:[(0,t.jsx)("span",{className:"text-[var(--text-secondary)] font-medium",children:"ì œì‘ ì‹œê°„ ê°ì†Œ"}),(0,t.jsx)("span",{className:"text-[var(--color-accent)] font-bold",children:"13%"})]})]}),(0,t.jsxs)("p",{className:"text-[10px] text-[var(--text-secondary)] text-center leading-relaxed opacity-70",children:["* ìœ„ ì˜ˆì‹œì²˜ëŸ¼ ëª¨ë“  íš¨ê³¼ë¥¼ ",(0,t.jsx)("strong",{children:"í•©ì‚°"}),"í•˜ì—¬ ì…ë ¥í•´ì£¼ì„¸ìš”.",(0,t.jsx)("br",{}),"(ë‹ˆë‚˜ë¸Œì˜ ì¶•ë³µì€ ë³„ë„ ì²´í¬)"]})]})}function p({costReduction:e,setCostReduction:a,greatSuccessChance:s,setGreatSuccessChance:o,ninavBlessing:l,setNinavBlessing:n,timeReduction:i,setTimeReduction:c,className:d="fixed top-6 left-6 z-50 flex flex-col items-start pointer-events-none",forceExpanded:x=!1}){let[p,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{b(!1)},[x]);let[u,h]=(0,r.useState)(!1),f=p||x;return(0,t.jsxs)("div",{className:d,children:[!x&&(0,t.jsx)("button",{onClick:()=>b(!p),className:"pointer-events-auto px-4 py-2 bg-[var(--bg-panel)] hover:bg-[var(--bg-main)] backdrop-blur-md text-white/80 hover:text-white border border-[var(--border-color)] rounded-lg text-sm font-bold transition-all shadow-lg",children:f?"ë³´ë„ˆìŠ¤ ì„¤ì • ë‹«ê¸°":"ì œì‘ ë³´ë„ˆìŠ¤ ì„¤ì •"}),f&&(0,t.jsxs)("div",{className:`pointer-events-auto mt-3 bg-[var(--bg-main)]/95 backdrop-blur-xl border border-[var(--border-color)] rounded-xl shadow-2xl animate-in fade-in slide-in-from-top-4 origin-top-left relative ${x?"flex flex-col min-h-[520px] w-96 p-6":"w-80 p-4"}`,children:[x&&(0,t.jsx)("h3",{className:"text-sm font-bold text-[var(--color-primary)] mb-4 text-center uppercase tracking-widest border-b border-white/10 pb-2",children:"ì œì‘ ë³´ë„ˆìŠ¤ ì„¤ì •"}),(0,t.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{className:"w-5 h-5 rounded-full bg-[var(--text-secondary)]/20 hover:bg-[var(--color-primary)] text-[var(--text-secondary)] hover:text-white flex items-center justify-center text-[10px] font-bold transition-all cursor-help",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:"?"}),(0,t.jsx)("div",{className:`absolute left-full top-0 ml-4 transition-all duration-300 origin-top-left z-[60] ${u?"opacity-100 scale-100 translate-x-0":"opacity-0 scale-95 -translate-x-4 pointer-events-none"}`,children:(0,t.jsx)(m,{className:"w-80"})})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-widest mb-2",children:"ë‹ˆë‚˜ë¸Œì˜ ì¶•ë³µ (ì œì‘ ì‹œê°„ ë‹¨ì¶•)"}),(0,t.jsx)("button",{onClick:()=>n(!l),className:`w-full py-2.5 rounded-lg text-xs font-bold transition-all border ${l?"bg-[var(--color-primary)] border-[var(--color-primary)] text-white shadow-lg":"bg-[var(--bg-panel)] border-[var(--border-color)] text-[var(--text-secondary)] hover:text-white"}`,children:l?"ì ìš© ì¤‘ (ON)":"ë¯¸ì ìš© (OFF)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-widest mb-2",children:"ì œì‘ ìˆ˜ìˆ˜ë£Œ ê°ì†Œ (%)"}),(0,t.jsxs)("div",{className:"flex items-center bg-[var(--bg-panel)] border border-[var(--border-color)] rounded-lg px-3",children:[(0,t.jsx)("input",{type:"number",value:e??"",onChange:e=>a(""===e.target.value?null:Number(e.target.value)),className:"w-full bg-transparent py-2 text-sm text-[var(--text-primary)] focus:outline-none placeholder-white/20",placeholder:"0"}),(0,t.jsx)("span",{className:"text-xs text-[var(--text-secondary)] font-bold ml-2",children:"%"})]}),(0,t.jsx)("p",{className:"text-[10px] text-[var(--text-secondary)] mt-1.5 leading-snug break-keep opacity-80",children:"* ëŒ€ì„±ê³µ í™•ë¥ ë„ ë™ì¼í•˜ê²Œ í•©ì‚°í•˜ì—¬ ì…ë ¥í•©ë‹ˆë‹¤."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-widest mb-2",children:"ëŒ€ì„±ê³µ í™•ë¥  (%)"}),(0,t.jsxs)("div",{className:"flex items-center bg-[var(--bg-panel)] border border-[var(--border-color)] rounded-lg px-3",children:[(0,t.jsx)("input",{type:"number",value:s??"",onChange:e=>o(""===e.target.value?null:Number(e.target.value)),className:"w-full bg-transparent py-2 text-sm text-[var(--text-primary)] focus:outline-none placeholder-white/20",placeholder:"0"}),(0,t.jsx)("span",{className:"text-xs text-[var(--text-secondary)] font-bold ml-2",children:"%"})]}),(0,t.jsxs)("p",{className:"text-[10px] text-[var(--text-secondary)] mt-1.5 opacity-80",children:["* ê¸°ë³¸ 5% + ",s||0,"% (ìµœì¢… ",(.05*(1+(s||0)/100)*100).toFixed(2),"%)"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-widest mb-2",children:"ì œì‘ ì‹œê°„ ê°ì†Œ (%)"}),(0,t.jsxs)("div",{className:"flex items-center bg-[var(--bg-panel)] border border-[var(--border-color)] rounded-lg px-3",children:[(0,t.jsx)("input",{type:"number",value:i??"",onChange:e=>c(""===e.target.value?null:Number(e.target.value)),className:"w-full bg-transparent py-2 text-sm text-[var(--text-primary)] focus:outline-none placeholder-white/20",placeholder:"0"}),(0,t.jsx)("span",{className:"text-xs text-[var(--text-secondary)] font-bold ml-2",children:"%"})]}),(0,t.jsxs)("p",{className:"text-[10px] text-[var(--text-secondary)] mt-1.5 leading-snug break-keep opacity-80",children:["* ìµœì¢… ê°ì†Œìœ¨: ",(i||0)+10*!!l,"% (ì…ë ¥ê°’ ",i||0,"% + ë‹ˆë‚˜ë¸Œ ",10*!!l,"%)"]})]})]})]})]})}function b({apiKey:e,setApiKey:a,fetchPrices:s,isLoading:o,logs:l,className:n="fixed top-6 right-6 z-50 flex flex-col items-end pointer-events-none",forceExpanded:i=!1,apiError:c}){let[d,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x(!1)},[i]);let m=d||i;return(0,t.jsxs)("div",{className:n,children:[!i&&(0,t.jsx)("button",{onClick:()=>x(!d),className:"pointer-events-auto px-4 py-2 bg-[var(--bg-panel)] hover:bg-[var(--bg-main)] backdrop-blur-md text-white/80 hover:text-white border border-[var(--border-color)] rounded-lg text-sm font-bold transition-all shadow-lg",children:m?"ì„¤ì • ë‹«ê¸°":"API ì„¤ì •"}),m&&(0,t.jsxs)("div",{className:`pointer-events-auto mt-3 bg-[var(--bg-main)]/95 backdrop-blur-xl border border-[var(--border-color)] rounded-xl shadow-2xl animate-in fade-in slide-in-from-top-4 origin-top-left ${i?"flex flex-col min-h-[520px] w-96 p-6":"w-80 p-4"}`,children:[i&&(0,t.jsx)("h3",{className:"text-sm font-bold text-[var(--color-primary)] mb-4 text-center uppercase tracking-widest border-b border-white/10 pb-2",children:"API / ì‹œìŠ¤í…œ ì„¤ì •"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-widest mb-2",children:"Lost Ark API Key"}),(0,t.jsx)("input",{type:"password",value:e,onChange:e=>a(e.target.value),placeholder:"API Key ì…ë ¥",className:`w-full bg-[var(--bg-panel)] border rounded-lg px-3 py-2 text-sm text-[var(--text-primary)] focus:border-[var(--color-primary)] outline-none transition-colors ${c?"border-[var(--color-danger)] animate-pulse":"border-[var(--border-color)]"}`}),c&&(0,t.jsx)("p",{className:"text-[10px] text-red-400 font-bold mt-2 text-center animate-in fade-in slide-in-from-top-1",children:c}),(0,t.jsxs)("p",{className:"text-[10px] text-slate-400 mt-2 leading-relaxed text-center",children:[(0,t.jsx)("a",{href:"https://developer-lostark.game.onstove.com/",target:"_blank",rel:"noreferrer",className:"text-[var(--color-primary)] hover:brightness-110 underline font-bold",children:"Lost Ark Open API"}),"ì—ì„œ ìŠ¤í† ë¸Œ ë¡œê·¸ì¸ í›„",(0,t.jsx)("br",{}),"API Keyë¥¼ ë°œê¸‰ë°›ì•„ ì…ë ¥í•´ì£¼ì„¸ìš”."]})]}),(0,t.jsx)("button",{onClick:()=>s(e),disabled:o,className:"w-full py-2.5 bg-[var(--color-primary)] hover:brightness-110 text-white text-xs font-bold rounded-lg transition-colors disabled:opacity-50",children:o?"ì‹œì„¸ ì¡°íšŒ ì¤‘...":"ì‹œì„¸ ì¡°íšŒí•˜ê¸° (ì´ˆê¸°í™”)"}),!i&&(0,t.jsxs)("div",{className:"mt-2 pt-3 border-t border-[var(--border-color)]",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-widest",children:"API ë¡œê·¸"}),o&&(0,t.jsx)("span",{className:"text-[10px] text-[var(--color-primary)] font-bold animate-pulse",children:"ì¡°íšŒ ì¤‘..."})]}),(0,t.jsx)("div",{className:"h-48 overflow-y-auto bg-[var(--bg-panel)] rounded-lg p-2 border border-[var(--border-color)] custom-scrollbar",children:l.length>0?(0,t.jsx)("div",{className:"space-y-1.5",children:l.map((e,r)=>(0,t.jsx)("p",{className:"text-[11px] text-[var(--text-secondary)] font-mono leading-relaxed border-b border-[var(--border-color)] pb-1 last:border-0",children:e},r))}):(0,t.jsx)("p",{className:"text-[11px] text-[var(--text-secondary)] text-center py-4",children:"ë¡œê·¸ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤."})})]})]})]})]})}function u({targetSlots:e,setTargetSlots:r,ownedRare:a,setOwnedRare:s,ownedUncommon:o,setOwnedUncommon:l,ownedCommon:n,setOwnedCommon:i,prices:c,bundleCounts:d}){return(0,t.jsxs)("div",{className:"space-y-4 relative z-10",children:[(0,t.jsxs)("div",{className:"bg-black/20 rounded-2xl p-4 border border-white/5",children:[(0,t.jsx)("label",{className:"block text-[11px] font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1",children:"ëª©í‘œ ì œì‘ ìŠ¬ë¡¯"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"number",value:e,onChange:e=>r(Number(e.target.value)),min:"1",className:"w-full bg-transparent text-4xl font-black text-white focus:outline-none placeholder-slate-700"}),(0,t.jsx)("span",{className:"text-base font-bold text-slate-500 whitespace-nowrap",children:"ìŠ¬ë¡¯"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end px-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-widest",children:"í˜„ì¬ ë³´ìœ ëŸ‰ (ë²Œëª© ì¬ë£Œ)"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-600 font-medium",children:"ì¸ê²Œì„ ë³´ìœ ëŸ‰ì„ ì…ë ¥í•˜ì„¸ìš”"})]}),(0,t.jsxs)("div",{className:"bg-black/30 px-4 py-2.5 rounded-2xl border border-white/5 flex items-center justify-between group/item hover:border-blue-500/30 transition-colors",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-blue-400 w-16 group-hover/item:text-blue-300 transition-colors",children:"í¬ê·€"}),(0,t.jsx)("div",{className:"flex-1 flex flex-col items-end mr-4",children:(0,t.jsx)("input",{type:"number",value:a,onChange:e=>s(Number(e.target.value)),className:"w-full bg-transparent text-right font-bold text-xl outline-none text-slate-200 focus:text-white transition-colors placeholder-slate-700"})}),c.rare>0&&(0,t.jsxs)("div",{className:"text-right text-[10px] text-slate-500 w-24 border-l border-white/5 pl-4",children:[(0,t.jsxs)("span",{className:"block text-slate-400 font-mono",children:[c.rare.toLocaleString()," G"]}),(0,t.jsxs)("span",{className:"block text-[9px] uppercase",children:[d.rare,"ê°œ ë‹¨ìœ„"]})]})]}),(0,t.jsxs)("div",{className:"bg-black/30 px-4 py-2.5 rounded-2xl border border-white/5 flex items-center justify-between group/item hover:border-emerald-500/30 transition-colors",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-emerald-400 w-16 group-hover/item:text-emerald-300 transition-colors",children:"ê³ ê¸‰"}),(0,t.jsx)("div",{className:"flex-1 flex flex-col items-end mr-4",children:(0,t.jsx)("input",{type:"number",value:o,onChange:e=>l(Number(e.target.value)),className:"w-full bg-transparent text-right font-bold text-xl outline-none text-slate-200 focus:text-white transition-colors placeholder-slate-700"})}),c.uncommon>0&&(0,t.jsxs)("div",{className:"text-right text-[10px] text-slate-500 w-24 border-l border-white/5 pl-4",children:[(0,t.jsxs)("span",{className:"block text-slate-400 font-mono",children:[c.uncommon.toLocaleString()," G"]}),(0,t.jsxs)("span",{className:"block text-[9px] uppercase",children:[d.uncommon,"ê°œ ë‹¨ìœ„"]})]})]}),(0,t.jsxs)("div",{className:"bg-black/30 px-4 py-2.5 rounded-2xl border border-white/5 flex items-center justify-between group/item hover:border-slate-500/30 transition-colors",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-200 w-16 group-hover/item:text-white transition-colors",children:"ì¼ë°˜"}),(0,t.jsx)("div",{className:"flex-1 flex flex-col items-end mr-4",children:(0,t.jsx)("input",{type:"number",value:n,onChange:e=>i(Number(e.target.value)),className:"w-full bg-transparent text-right font-bold text-xl outline-none text-slate-200 focus:text-white transition-colors placeholder-slate-700"})}),c.common>0&&(0,t.jsxs)("div",{className:"text-right text-[10px] text-slate-500 w-24 border-l border-white/5 pl-4",children:[(0,t.jsxs)("span",{className:"block text-slate-400 font-mono",children:[c.common.toLocaleString()," G"]}),(0,t.jsxs)("span",{className:"block text-[9px] uppercase",children:[d.common,"ê°œ ë‹¨ìœ„"]})]})]})]})]})}function h({profitStats:e}){return e?(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:`p-3 rounded-2xl border transition-all duration-300 ${e.sellingProfit>=0?"bg-emerald-500/5 border-emerald-500/20 hover:bg-emerald-500/10":"bg-red-500/5 border-red-500/20 hover:bg-red-500/10"}`,children:[(0,t.jsx)("h4",{className:`text-center text-[10px] font-bold mb-2 uppercase tracking-widest ${e.sellingProfit>=0?"text-emerald-400":"text-red-400"}`,children:"íŒë§¤ ì‹œ ìˆ˜ìµ (ìˆ˜ìˆ˜ë£Œ 5%)"}),(0,t.jsxs)("div",{className:"bg-black/20 rounded-xl p-2.5 mb-2 space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs font-bold font-mono",children:[(0,t.jsx)("span",{className:"text-emerald-400/70 uppercase tracking-wider text-[10px]",children:"ë§¤ì¶œ"}),(0,t.jsx)("span",{className:"text-white tracking-wide",children:Math.floor(e.sellingRevenue).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs font-bold font-mono",children:[(0,t.jsx)("span",{className:"text-red-400/70 uppercase tracking-wider text-[10px]",children:"ì œì‘ë¹„"}),(0,t.jsxs)("span",{className:"text-red-200/80 tracking-wide",children:["-",Math.floor(e.totalCost).toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center pt-1",children:[(0,t.jsx)("span",{className:`text-[9px] font-extrabold mb-0.5 uppercase tracking-[0.2em] ${e.sellingProfit>=0?"text-emerald-600":"text-red-600"}`,children:"ìˆœì´ìµ"}),(0,t.jsxs)("span",{className:`text-2xl font-black tracking-tight ${e.sellingProfit>=0?"text-emerald-400":"text-red-400"}`,children:[e.sellingProfit>=0?"+":"",Math.floor(e.sellingProfit).toLocaleString()," ",(0,t.jsx)("span",{className:"text-sm font-bold opacity-50",children:"G"})]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-2 border-t border-white/5 w-full flex justify-between items-center px-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"ì‹œê°„ë‹¹ ìˆ˜ìµ"}),(0,t.jsxs)("span",{className:`text-sm font-bold font-mono ${e.sellingProfit>=0?"text-emerald-400/80":"text-red-400/80"}`,children:[Math.floor(e.hourlySellingProfit).toLocaleString()," G/h"]})]})]}),(0,t.jsxs)("div",{className:`p-3 rounded-2xl border transition-all duration-300 ${e.usageProfit>=0?"bg-sky-500/5 border-sky-500/20 hover:bg-sky-500/10":"bg-red-500/5 border-red-500/20 hover:bg-red-500/10"}`,children:[(0,t.jsx)("h4",{className:`text-center text-[10px] font-bold mb-2 uppercase tracking-widest ${e.usageProfit>=0?"text-sky-400":"text-red-400"}`,children:"ë³¸ì¸ ì‚¬ìš© ì´ë“"}),(0,t.jsxs)("div",{className:"bg-black/20 rounded-xl p-2.5 mb-2 space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs font-bold font-mono",children:[(0,t.jsx)("span",{className:"text-sky-400/70 uppercase tracking-wider text-[10px]",children:"ê°€ì¹˜"}),(0,t.jsx)("span",{className:"text-white tracking-wide",children:Math.floor(e.grossRevenue).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs font-bold font-mono",children:[(0,t.jsx)("span",{className:"text-red-400/70 uppercase tracking-wider text-[10px]",children:"ì œì‘ë¹„"}),(0,t.jsxs)("span",{className:"text-red-200/80 tracking-wide",children:["-",Math.floor(e.totalCost).toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center pt-1",children:[(0,t.jsx)("span",{className:`text-[9px] font-extrabold mb-0.5 uppercase tracking-[0.2em] ${e.usageProfit>=0?"text-sky-600":"text-red-600"}`,children:"ì ˆì•½"}),(0,t.jsxs)("span",{className:`text-2xl font-black tracking-tight ${e.usageProfit>=0?"text-sky-400":"text-red-400"}`,children:[e.usageProfit>=0?"+":"",Math.floor(e.usageProfit).toLocaleString()," ",(0,t.jsx)("span",{className:"text-sm font-bold opacity-50",children:"G"})]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-2 border-t border-white/5 w-full flex justify-between items-center px-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"ì‹œê°„ë‹¹ ì´ë“"}),(0,t.jsxs)("span",{className:`text-sm font-bold font-mono ${e.usageProfit>=0?"text-sky-400/80":"text-red-400/80"}`,children:[Math.floor(e.hourlyUsageProfit).toLocaleString()," G/h"]})]})]})]}):null}var f=e.i(75144);function g(){let{theme:e,setTheme:a}=(0,f.useTheme)(),[s,o]=(0,r.useState)(!1),l={midnight:"bg-[#3b82f6]",forest:"bg-[#10b981]",ocean:"bg-[#06b6d4]",obsidian:"bg-[#ef4444]",sunset:"bg-[#f97316]"};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>o(!s),className:"flex items-center gap-2 px-3 py-1.5 bg-[#1a1d29] border border-white/10 rounded-lg text-xs font-bold text-slate-400 hover:text-white hover:bg-white/5 transition-all",children:[(0,t.jsx)("span",{className:`w-2 h-2 rounded-full ${l[e]}`}),(0,t.jsx)("span",{children:f.THEMES[e]})]}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),(0,t.jsx)("div",{className:"absolute bottom-full right-0 mb-2 w-32 bg-[#1a1d29] border border-white/10 rounded-xl shadow-xl z-50 overflow-hidden py-1",children:Object.entries(f.THEMES).map(([r,s])=>(0,t.jsxs)("button",{onClick:()=>{a(r),o(!1)},className:`w-full text-left px-4 py-2 text-xs font-bold flex items-center gap-2 hover:bg-white/5 transition-colors ${e===r?"text-white":"text-slate-500"}`,children:[(0,t.jsx)("span",{className:`w-2 h-2 rounded-full ${l[r]}`}),s]},r))})]})]})}function v({activeTab:e,results:r,prices:a}){return(0,t.jsxs)("section",{className:"bg-[var(--bg-panel)]/80 backdrop-blur-md border border-white/5 rounded-[2rem] p-4 flex flex-col relative overflow-hidden shrink-0",children:[(0,t.jsxs)("h2",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 bg-slate-500 rounded-full"}),"êµ¬ë§¤ í•„ìš” íšŸìˆ˜ (","abidos"===e?"ì•„ë¹„ë„ìŠ¤":"ìƒê¸‰ ì•„ë¹„ë„ìŠ¤",")"]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{key:"rare",label:i.name,color:"#3b82f6",bg:"bg-blue-500/10"},{key:"uncommon",label:n.name,color:"#10b981",bg:"bg-emerald-500/10"},{key:"common",label:l.name,color:"#f8fafc",bg:"bg-slate-500/10"}].map(({key:e,label:s,color:o,bg:l})=>{let n=r[e],i=(e=>{let t=r[e];if(t.buyCount<=0)return 0;let s=a[e];return t.buyCount*s})(e),c=n.buyCount<=0;return(0,t.jsxs)("div",{className:`group flex flex-col p-3 rounded-2xl transition-all duration-300 ${c?"bg-white/[0.02] border border-white/[0.02] opacity-50 hover:opacity-100":"bg-black/20 border border-white/5 hover:border-white/10"}`,children:[(0,t.jsx)("div",{className:"flex justify-between items-start mb-1",children:(0,t.jsx)("span",{className:"text-xs font-bold tracking-tight truncate",style:{color:o},children:s})}),(0,t.jsxs)("div",{className:"flex items-baseline gap-1 mb-1",children:[(0,t.jsx)("span",{className:`text-xl font-black tracking-tighter ${c?"text-slate-600":"text-white"}`,children:n.buyCount}),(0,t.jsxs)("span",{className:"text-[10px] font-bold text-slate-600 uppercase",children:["íšŒ ",(0,t.jsxs)("span",{className:"text-slate-700 font-medium ml-0.5",children:["(",n.bundleSize,")"]})]})]}),(0,t.jsxs)("div",{className:`mt-2 pt-2 border-t border-white/5 flex flex-col gap-0.5 ${i>0?"opacity-100":"opacity-0"}`,children:[(0,t.jsx)("span",{className:"text-[9px] font-bold text-slate-600 uppercase tracking-widest",children:"ì˜ˆìƒ ë¹„ìš©"}),(0,t.jsxs)("span",{className:"text-xs font-bold text-amber-500/90 font-mono",children:[i.toLocaleString()," ",(0,t.jsx)("span",{className:"text-[9px] text-amber-500/50",children:"G"})]})]})]},e)})})]})}function y({history:e,onDelete:a,onClear:s,onUpdateEntry:o}){let[l,n]=(0,r.useState)(!1),[i,c]=(0,r.useState)("newest"),[d,x]=(0,r.useState)("all"),[m,p]=(0,r.useState)(null),[b,u]=(0,r.useState)(""),h=()=>{m&&o&&b&&o(m,Number(b)),p(null)},f=e=>{"Enter"===e.key&&h(),"Escape"===e.key&&p(null)},g=(0,r.useMemo)(()=>{let t=[...e];return"all"!==d&&(t=t.filter(e=>e.type===("superior"===d?"superior":"abidos"))),t.sort((e,t)=>"newest"===i?t.timestamp-e.timestamp:e.timestamp-t.timestamp),t},[e,d,i]),v=(0,r.useMemo)(()=>g.reduce((e,t)=>e+(t.actualProfit??t.expectedProfit??0),0),[g]);return(0,t.jsxs)("section",{className:"bg-[var(--bg-panel)]/80 backdrop-blur-md border border-[var(--border-color)] rounded-[2rem] p-6 shadow-2xl min-h-[500px]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-6 bg-[var(--color-primary)] rounded-full"}),"ì œì‘ ê¸°ë¡",(0,t.jsxs)("span",{className:"text-xs font-normal text-[var(--text-secondary)] ml-2",children:[e.length,"ê°œì˜ ê¸°ë¡"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex bg-[var(--bg-main)] p-1 rounded-lg border border-[var(--border-color)]",children:[(0,t.jsx)("button",{onClick:()=>x("all"),className:`px-3 py-1 rounded text-xs font-bold transition-all ${"all"===d?"bg-[var(--text-secondary)] text-[var(--bg-main)]":"text-[var(--text-secondary)] hover:text-white"}`,children:"ì „ì²´"}),(0,t.jsx)("button",{onClick:()=>x("abidos"),className:`px-3 py-1 rounded text-xs font-bold transition-all ${"abidos"===d?"bg-[var(--color-primary)] text-white":"text-[var(--text-secondary)] hover:text-white"}`,children:"ì•„ë¹„ë„ìŠ¤"}),(0,t.jsx)("button",{onClick:()=>x("superior"),className:`px-3 py-1 rounded text-xs font-bold transition-all ${"superior"===d?"bg-[var(--color-secondary)] text-white":"text-[var(--text-secondary)] hover:text-white"}`,children:"ìƒê¸‰"})]}),(0,t.jsxs)("button",{onClick:()=>c(e=>"newest"===e?"oldest":"newest"),className:"px-3 py-1.5 bg-[var(--bg-main)] border border-[var(--border-color)] rounded-lg text-xs font-bold text-[var(--text-secondary)] hover:text-white hover:bg-white/5 transition-all flex items-center gap-1",children:[(0,t.jsx)("span",{children:"newest"===i?"ìµœì‹ ìˆœ":"ì˜¤ë˜ëœìˆœ"}),(0,t.jsx)("svg",{className:`w-3 h-3 transition-transform ${"newest"===i?"rotate-0":"rotate-180"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.length>0&&(0,t.jsxs)(t.Fragment,{children:[l&&s&&(0,t.jsx)("button",{onClick:s,className:"px-3 py-1.5 rounded-lg text-xs font-bold text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors mr-2",children:"ëª¨ë‘ ì‚­ì œ"}),(0,t.jsx)("button",{onClick:()=>n(!l),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${l?"bg-red-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:l?"ì™„ë£Œ":"í¸ì§‘"})]})]})]}),g.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left border-collapse border border-[var(--border-color)]",children:[(0,t.jsx)("thead",{className:"bg-[var(--bg-main)] text-[var(--text-secondary)] font-bold whitespace-nowrap",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-[var(--border-color)] px-3 py-2",children:"ì‹œê°„"}),(0,t.jsx)("th",{className:"border border-[var(--border-color)] px-3 py-2",children:"ì¢…ë¥˜"}),(0,t.jsx)("th",{className:"border border-[var(--border-color)] px-3 py-2 text-right",children:"ë‹¨ê°€"}),(0,t.jsx)("th",{className:"border border-[var(--border-color)] px-3 py-2 text-right",children:"ì´ ë¹„ìš©"}),(0,t.jsx)("th",{className:"border border-[var(--border-color)] px-3 py-2 text-right",children:"ì œì‘ ê²°ê³¼"}),(0,t.jsx)("th",{className:"border border-[var(--border-color)] px-3 py-2 text-right",children:"ì‹¤ì§ˆ ìˆ˜ìµ"}),l&&(0,t.jsx)("th",{className:"border border-[var(--border-color)] px-3 py-2 text-center w-[50px] bg-[var(--color-danger)]/20 text-red-200",children:"ì‚­ì œ"})]})}),(0,t.jsx)("tbody",{children:g.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,t.jsx)("td",{className:"border border-[var(--border-color)] px-3 py-2 text-[var(--text-secondary)] font-mono text-xs whitespace-nowrap",children:new Date(e.timestamp).toLocaleString()}),(0,t.jsx)("td",{className:"border border-[var(--border-color)] px-3 py-2 whitespace-nowrap",children:(0,t.jsx)("span",{className:`text-xs px-1.5 py-0.5 rounded font-bold ${"abidos"===e.type?"text-[var(--color-primary)] bg-[var(--color-primary)]/10":"text-[var(--color-secondary)] bg-[var(--color-secondary)]/10"}`,children:"abidos"===e.type?"ì•„ë¹„ë„ìŠ¤":"ìƒê¸‰ ì•„ë¹„ë„ìŠ¤"})}),(0,t.jsxs)("td",{className:"border border-[var(--border-color)] px-3 py-2 text-right font-bold text-[var(--color-primary)] whitespace-nowrap",children:[Math.floor(e.unitCost).toLocaleString()," G"]}),(0,t.jsxs)("td",{className:"border border-[var(--border-color)] px-3 py-2 text-right text-[var(--text-primary)] whitespace-nowrap",children:[Math.floor(e.totalCost).toLocaleString()," G"]}),(0,t.jsx)("td",{className:"border border-[var(--border-color)] px-3 py-2 text-right text-[var(--text-primary)] whitespace-nowrap",children:m===e.id?(0,t.jsx)("input",{type:"number",value:b,onChange:e=>u(e.target.value),onKeyDown:f,onBlur:h,autoFocus:!0,className:"w-20 bg-black/40 border border-[var(--color-primary)] rounded px-2 py-1 text-right text-white font-bold outline-none"}):(0,t.jsxs)("div",{onClick:()=>o&&void(p(e.id),u((e.actualOutput??Math.floor(e.expectedOutput)).toString())),className:"cursor-pointer hover:text-[var(--color-primary)] transition-colors flex flex-col items-end",title:"í´ë¦­í•˜ì—¬ ìˆ˜ì •",children:[(0,t.jsxs)("span",{className:`font-bold ${e.actualOutput?"text-[var(--color-accent)]":""}`,children:[Math.floor(e.actualOutput??e.expectedOutput).toLocaleString()," ê°œ"]}),e.actualOutput&&(0,t.jsx)("span",{className:"text-[9px] text-[var(--color-accent)]/70",children:"ì‹¤ì œ ê²°ê³¼"})]})}),(0,t.jsxs)("td",{className:`border border-[var(--border-color)] px-3 py-2 text-right font-bold whitespace-nowrap ${(e.actualProfit??e.expectedProfit)>=0?"text-[var(--color-success)]":"text-[var(--color-danger)]"}`,children:[(e.actualProfit??e.expectedProfit)>0?"+":"",Math.floor(e.actualProfit??e.expectedProfit).toLocaleString()," G"]}),l&&(0,t.jsx)("td",{className:"border border-[var(--border-color)] px-3 py-2 text-center bg-[var(--color-danger)]/10",children:(0,t.jsx)("button",{onClick:()=>a(e.id),className:"text-white bg-[var(--color-danger)] hover:brightness-110 transition-colors w-6 h-6 rounded flex items-center justify-center mx-auto",title:"ì‚­ì œ",children:"âœ•"})})]},e.id))}),(0,t.jsx)("tfoot",{className:"bg-[var(--bg-main)] font-bold",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{colSpan:5,className:"border border-[var(--border-color)] px-3 py-3 text-right text-[var(--text-secondary)]",children:"ì´ ì‹¤ì§ˆ ìˆ˜ìµ í•©ê³„ (ì˜ˆìƒ í¬í•¨)"}),(0,t.jsxs)("td",{className:`border border-[var(--border-color)] px-3 py-3 text-right text-lg ${v>=0?"text-[var(--color-success)]":"text-[var(--color-danger)]"}`,children:[v>0?"+":"",Math.floor(v).toLocaleString()," G"]}),l&&(0,t.jsx)("td",{className:"border border-[var(--border-color)] bg-[var(--bg-main)]"})]})})]})}):(0,t.jsxs)("div",{className:"text-center py-20 text-slate-500",children:[(0,t.jsx)("p",{className:"mb-2 text-4xl",children:"ğŸ“"}),(0,t.jsx)("p",{children:"ì•„ì§ ì œì‘ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤."}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"í™”ë©´ ê³µìœ (ì˜¤ë²„ë ˆì´) ëª¨ë“œì—ì„œ 'ì œì‘ ì™„ë£Œ'ë¥¼ ëˆŒëŸ¬ ê¸°ë¡í•´ë³´ì„¸ìš”."})]})]})}function j({type:e,isActive:a,startTime:s,endTime:o,batchDuration:l,concurrency:n,totalSlots:i,onCancel:c,hourlyProfit:d,onRecordResult:x,expectedOutput:m}){let[p,b]=(0,r.useState)(""),[u,h]=(0,r.useState)(0),[f,g]=(0,r.useState)(0),[v,y]=(0,r.useState)(0),[j,N]=(0,r.useState)(""),w=10*i,k=10*n,S=!a&&null!==o&&Date.now()>=o;(0,r.useEffect)(()=>{S&&!j&&N(w.toString())},[S,w]),(0,r.useEffect)(()=>{if(!s||!o||!l){b(""),h(0),g(0);return}let e=()=>{let e=Date.now(),t=o-e;if(t<=0){b("00:00:00"),h(w),g(100),y(100);return}if(!a)return;let r=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);b(`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`);let c=e-s,d=Math.floor(c/l),x=c%l,m=Math.min(w,d*k);if(h(m),m>=w?g(100):g(d%10*10+x/l*100/10),s&&o){let t=o-s;y(Math.min(100,Math.max(0,Math.floor((e-s)/t*100))))}};e();let t=setInterval(e,100);return()=>clearInterval(t)},[a,s,o,l,w,k]);let C=Math.floor(u/10),$=o?(e=>{if(!e)return"-";let t=new Date(e),r=t.getHours(),a=t.getMinutes();return`${r>=12?"ì˜¤í›„":"ì˜¤ì „"} ${r>12?r-12:0===r?12:r}ì‹œ ${a}ë¶„`})(o):"-";return(0,t.jsxs)("div",{className:`w-full h-full flex flex-col relative overflow-hidden rounded-2xl border transition-all duration-300 ${a?"bg-[var(--bg-panel)] border-[var(--color-primary)]/30 shadow-lg shadow-[var(--color-primary)]/10":S?"bg-[var(--bg-panel)] border-[var(--color-success)]/30 shadow-lg shadow-[var(--color-success)]/10":"bg-[var(--bg-panel)]/60 border-white/5 hover:border-[var(--color-primary)]/20"}`,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-[0.03]"}),(a||S)&&(0,t.jsx)("div",{className:`absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent ${S?"via-[var(--color-success)]":"via-[var(--color-primary)]"} to-transparent opacity-50`}),(0,t.jsxs)("div",{className:"p-8 flex-1 flex flex-col gap-8 relative z-10 min-h-0 justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`w-2.5 h-2.5 rounded-full ${a?"bg-[var(--color-primary)] animate-pulse":S?"bg-[var(--color-success)]":"bg-slate-600"}`}),(0,t.jsx)("h3",{className:`text-sm font-bold uppercase tracking-wider ${S?"text-[var(--color-success)]":"text-slate-400"}`,children:a?"ì œì‘ ì¤‘":S?"ì œì‘ ì˜ˆì•½ ì™„ë£Œ":"ì œì‘ ëŒ€ê¸°"})]}),a&&c&&(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),c()},className:"px-3 py-1.5 text-xs font-bold text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/10 transition-colors",children:"ì œì‘ ì·¨ì†Œ"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,t.jsx)("span",{className:`text-6xl font-black tracking-tight ${a||S?"text-white":"text-slate-500"}`,children:a||S?C.toLocaleString():"-"}),(0,t.jsxs)("span",{className:"text-base text-slate-500 font-bold",children:["/ ",a||S?i.toLocaleString():"-"," ìŠ¬ë¡¯"]})]}),(a||S)&&(0,t.jsxs)("span",{className:`text-5xl font-black ${S?"text-[var(--color-success)]":"text-[var(--color-primary)]"}`,children:[v,"%"]})]}),(a||S)&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-black/20 rounded-xl p-5 border border-white/5",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-wider text-slate-500 font-bold",children:"ë‚¨ì€ ì‹œê°„"}),(0,t.jsx)("span",{className:`text-2xl font-bold tracking-tight ${S?"text-[var(--color-success)]":"text-white"}`,children:p||"00:00:00"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 border-l border-white/5 pl-5",children:[(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-wider text-slate-500 font-bold",children:"ì˜ˆìƒ ì¢…ë£Œ"}),(0,t.jsx)("span",{className:"text-xl font-bold tracking-tight text-slate-300",children:$})]})]}),void 0!==d&&(0,t.jsxs)("div",{className:"mt-2 pt-3 border-t border-white/5 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"ì‹œê°„ë‹¹ ìˆ˜ìµ"}),(0,t.jsxs)("span",{className:`text-sm font-bold font-mono ${d>=0?"text-emerald-400":"text-red-400"}`,children:[Math.floor(d).toLocaleString()," ",(0,t.jsx)("span",{className:"text-[10px] opacity-70",children:"G/h"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 min-h-0 overflow-y-auto pr-1 shrink-0 relative",children:[S&&x&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-emerald-500/5 rounded-xl border border-emerald-500/20 p-6 flex flex-col justify-center items-center gap-4 animate-in fade-in zoom-in-95 duration-500 hover:bg-emerald-500/10 transition-colors z-50 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-emerald-400 uppercase tracking-widest mb-1",children:"ì œì‘ ì¢…ë£Œ"}),(0,t.jsx)("div",{className:"text-[10px] text-emerald-500/60 font-medium",children:"ì‹¤ì œ ì œì‘ëœ ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"})]}),(0,t.jsxs)("div",{className:"flex gap-2 w-full max-w-[340px] items-stretch",children:[(0,t.jsx)("button",{onClick:()=>{let e=Number(j)||0;e<=w||N(Math.max(w,e-10).toString())},disabled:Number(j)<=w,className:`px-3 border rounded-lg transition-colors flex items-center justify-center ${Number(j)<=w?"bg-black/20 border-white/5 text-slate-600 cursor-not-allowed":"bg-black/40 hover:bg-emerald-500/20 border-emerald-500/30 text-emerald-400 active:scale-95"}`,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M5 12h14"})})}),(0,t.jsx)("div",{className:"relative flex-1 min-w-[80px]",children:(0,t.jsx)("input",{type:"number",value:j,onChange:e=>N(e.target.value),className:"w-full bg-black/40 border border-emerald-500/30 rounded-lg px-2 py-3 text-white font-bold text-xl outline-none focus:border-emerald-500 transition-colors text-center",autoFocus:!0})}),(0,t.jsx)("button",{onClick:()=>{N(((Number(j)||0)+10).toString())},className:"px-3 bg-black/40 hover:bg-emerald-500/20 border border-emerald-500/30 rounded-lg text-emerald-400 transition-colors flex items-center justify-center active:scale-95",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 5v14"}),(0,t.jsx)("path",{d:"M5 12h14"})]})}),(0,t.jsx)("button",{onClick:()=>{j&&x(Number(j))},className:"px-5 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg transition-all shadow-lg shadow-emerald-500/20 whitespace-nowrap active:scale-95 ml-1",children:"ê¸°ë¡"})]}),(0,t.jsxs)("p",{className:"text-[10px] text-emerald-400/40 font-medium text-center max-w-[200px] leading-relaxed",children:["* ê¸°ë¡ ì‹œ ìˆ˜ìµì´ í™•ì •ë˜ë©°",(0,t.jsx)("br",{}),"íˆìŠ¤í† ë¦¬ íƒ­ì— ì €ì¥ë©ë‹ˆë‹¤."]})]}),(0,t.jsx)("div",{className:`flex flex-col gap-4 w-full transition-opacity duration-500 ${S&&x?"invisible":"opacity-100"}`,children:Array.from({length:n}).map((e,r)=>{let c=Math.floor(i/n),d=i%n,x=c+ +(d>0&&r<d),m=x>0,p=a&&s?Date.now()-s:S&&s&&o?o-s:0,b=Math.floor(p/(l||1)),u=S||a&&b>=x,h=a&&b<x;return(0,t.jsxs)("div",{className:`w-full aspect-[10/1] rounded-lg border relative overflow-hidden transition-all duration-500 ${m?h||u?`bg-black/20 ${u?"border-[var(--color-success)]/30 shadow-[inset_0_0_10px_rgba(34,197,94,0.1)]":"border-[var(--color-primary)]/30 shadow-[inset_0_0_10px_rgba(59,130,246,0.1)]"}`:"bg-white/5 border-white/5 opacity-30":"bg-transparent border-white/5 opacity-10 grayscale"}`,children:[m&&(0,t.jsx)("div",{className:"absolute inset-0 flex z-10",children:Array.from({length:10}).map((e,r)=>{let a=r+10*Math.floor((u?Math.max(0,x-1):b)/10),s=!u&&a===b;if(!(a<x))return(0,t.jsx)("div",{className:"flex-1 relative border-r border-white/5 last:border-0 bg-transparent"},r);let o=u||a<b,n=s?p%(l||1)/(l||1)*100:0;return(0,t.jsxs)("div",{className:"flex-1 relative border-r border-white/5 last:border-0",children:[o&&(0,t.jsx)("div",{className:"absolute inset-0 bg-[var(--color-success)]/40 transition-all duration-300"}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute top-0 bottom-0 left-0 bg-[var(--color-primary)]/40 transition-all duration-100 ease-linear",style:{width:`${n}%`}}),(0,t.jsx)("div",{className:"absolute top-0 bottom-0 w-[2px] bg-[var(--color-primary)] z-20 transition-all duration-100 ease-linear",style:{left:`${n}%`}})]})]},r)})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-40 pointer-events-none",children:(0,t.jsxs)("span",{className:`text-[10px] font-bold tracking-widest ${u?"text-[var(--color-success)]/80":h?"text-[var(--color-primary)]/80":"text-slate-600"}`,children:["ìŠ¬ë¡¯ ",r+1," ",m&&(h||u)&&(0,t.jsxs)("span",{className:"text-[10px] opacity-70 ml-1",children:["(",Math.min(x,b),"/",x,")"]}),!m&&(0,t.jsx)("span",{className:"text-[10px] opacity-50 ml-1",children:"(ë¹ˆ ìŠ¬ë¡¯)"})]})})]},r)})})]})]}),a&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-black/40 w-full",children:(0,t.jsx)("div",{className:"h-full bg-[var(--color-primary)] shadow-[0_0_10px_rgba(59,130,246,0.8)] transition-all duration-300 ease-linear",style:{width:`${u/w*100}%`}})})]})}function N(){let[e,m]=(0,r.useState)("superior"),[f,N]=(0,r.useState)(1),[w,k]=(0,r.useState)(0),[S,C]=(0,r.useState)(0),[$,P]=(0,r.useState)(0),[M,L]=(0,r.useState)(""),{prices:E,bundleCounts:z,isLoading:A,isPriceLoaded:I,apiError:T,logs:R,fetchPrices:O,addLog:G}=function(e){let[t,a]=(0,r.useState)({rare:0,uncommon:0,common:0,fusion:0,superiorFusion:0}),[s,x]=(0,r.useState)({rare:10,uncommon:10,common:10,fusion:10,superiorFusion:10}),[m,p]=(0,r.useState)(!1),[b,u]=(0,r.useState)(!1),[h,f]=(0,r.useState)([]),[g,v]=(0,r.useState)(null),y=(0,r.useCallback)(e=>{let t=new Date().toLocaleTimeString();f(r=>[`[${t}] ${e}`,...r])},[]),j=(0,r.useCallback)(async(e,t=!1)=>{if(!e)return;v(null),t||u(!1);let r=e.trim();if(/[^\x00-\x7F]/.test(r)){let e="API Keyì— í—ˆìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ì(í•œê¸€/íŠ¹ìˆ˜ë¬¸ì)ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.";y(`[ì˜¤ë¥˜] ${e}`),v(e),p(!1);return}t||p(!0),y(t?"ì‹œì„¸ ìë™ ê°±ì‹  ì¤‘...":"ì‹œì„¸ ì¡°íšŒ ì‹œì‘...");try{let e=[{...i,key:"rare"},{...n,key:"uncommon"},{...l,key:"common"},{...c,key:"fusion"},{...d,key:"superiorFusion"}],s={},m={};for(let a of e){t||y(`[ìš”ì²­] ${a.name} (ID: ${a.id}, Cat: ${a.categoryCode})`);try{let e=await o.getMarketPrice(r,a.id,a.name,a.categoryCode);null!==e?(t||y(`[ìˆ˜ì‹ ] ${a.name}: ${e.price}G / unit: ${e.bundleCount}`),s[a.key]=e.price,m[a.key]=e.bundleCount):t||y(`[ì‹¤íŒ¨] ${a.name}: ë°ì´í„° ì—†ìŒ (result is null)`)}catch(t){let e=t instanceof Error?t.message:String(t);if(y(`[ì—ëŸ¬] ${a.name}: ${e}`),e.includes("401")||e.includes("403"))throw Error("API Key ì¸ì¦ ì‹¤íŒ¨ (401/403)")}}a(e=>({...e,...s})),x(e=>({...e,...m})),u(!0),y(t?"ì‹œì„¸ ê°±ì‹  ì™„ë£Œ":"ì‹œì„¸ ì—…ë°ì´íŠ¸ ì™„ë£Œ")}catch(t){let e=t instanceof Error?t.message:String(t)||"ì‹œì„¸ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ ë°œìƒ";y(`ì „ì²´ ì—ëŸ¬: ${e}`),v(e)}finally{p(!1)}},[y]),N=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!e)return;j(e,!1);let t=new Date,r=setTimeout(()=>{j(e,!0),N.current=setInterval(()=>{j(e,!0)},6e4)},(60-t.getSeconds())*1e3-t.getMilliseconds());return()=>{clearTimeout(r),N.current&&clearInterval(N.current)}},[e,j]),{prices:t,bundleCounts:s,isLoading:m,isPriceLoaded:b,apiError:g,logs:h,fetchPrices:j,addLog:y}}(M),[D,F]=(0,r.useState)(null),[_,B]=(0,r.useState)(null),[U,K]=(0,r.useState)(!1),[V,J]=(0,r.useState)(null),{pipWindow:W,openPip:H}=function(){let[e,t]=(0,r.useState)(null),a=(0,r.useCallback)(async(e,r)=>{if(!("documentPictureInPicture"in window))return void alert("PiP ë¯¸ì§€ì›");try{let e=await window.documentPictureInPicture.requestWindow({width:360,height:600});t(e);let r=getComputedStyle(document.body),a=document.createElement("style");a.textContent=`
        :root {
          --bg-main: ${r.getPropertyValue("--bg-main")};
          --bg-panel: ${r.getPropertyValue("--bg-panel")};
          --text-primary: ${r.getPropertyValue("--text-primary")};
          --text-secondary: ${r.getPropertyValue("--text-secondary")};
          --color-primary: ${r.getPropertyValue("--color-primary")};
          --color-secondary: ${r.getPropertyValue("--color-secondary")};
          --color-accent: ${r.getPropertyValue("--color-accent")};
          --color-success: ${r.getPropertyValue("--color-success")};
          --color-danger: ${r.getPropertyValue("--color-danger")};
          --border-color: ${r.getPropertyValue("--border-color")};
        }
        * { box-sizing: border-box; }
        body { background: var(--bg-main); color: var(--text-primary); font-family: 'Pretendard', sans-serif; padding: 12px 10px; margin: 0; overflow: hidden; transition: background 0.5s; }
        .container { display: flex; flex-direction: column; gap: 8px; }
        .tab-box { display: flex; background: var(--bg-panel); border-radius: 8px; padding: 2px; margin-bottom: 5px; }
        .tab-btn { flex: 1; padding: 6px; border: none; background: transparent; color: var(--text-secondary); font-size: 11px; font-weight: bold; cursor: pointer; border-radius: 6px; }
        .tab-btn.active.abidos { background: var(--color-primary); color: white; }
        .tab-btn.active.superior { background: var(--color-secondary); color: white; }
        .label { font-size: 11px; font-weight: bold; color: var(--text-secondary); margin-bottom: 2px; display: block; }
        .input-row { display: flex; align-items: center; background: var(--bg-panel); border-radius: 8px; padding: 5px 10px; border: 1px solid var(--border-color); }
        .input-row span { font-size: 11px; font-weight: bold; }
        input { background: transparent; border: none; color: var(--text-primary); text-align: right; font-weight: 900; width: 100%; outline: none; font-size: 16px; font-family: inherit; }
        .res-box { margin-top: 5px; padding-top: 8px; border-top: 1px solid var(--border-color); display: flex; flex-direction: column; gap: 4px; }
        .res-row { display: flex; justify-content: space-between; align-items: center; }
        .buy-val { color: var(--color-accent); font-weight: 900; font-size: 20px; }
        .update-btn { width: 100%; padding: 10px; background: linear-gradient(to right, var(--color-primary), var(--color-secondary)); color: white; border: none; border-radius: 8px; font-weight: bold; margin-top: 8px; cursor: pointer; }
        .update-btn:active { filter: brightness(0.9); transform: scale(0.98); }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .price-tag { font-size: 10px; color: var(--text-secondary); font-weight: bold; }
        .profit-split-container { display: flex; background: var(--bg-panel); border-radius: 8px; margin-top: 10px; overflow: hidden; border: 1px solid var(--border-color); }
        .profit-split-item { flex: 1; padding: 8px 4px; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        .profit-split-item:first-child { border-right: 1px solid var(--border-color); }
        .profit-label { font-size: 10px; color: var(--text-secondary); font-weight: bold; margin-bottom: 4px; }
        .profit-val { font-size: 18px; font-weight: 900; line-height: 1; }
        .val-plus { color: var(--color-success); }
        .val-minus { color: var(--color-danger); }
      `,e.document.head.appendChild(a),e.addEventListener("pagehide",()=>{t(null)})}catch(e){console.error(e),alert("PiP ì‹¤í–‰ ì‹¤íŒ¨")}},[]),s=(0,r.useCallback)(()=>{e&&(e.close(),t(null))},[e]);return{pipWindow:e,openPip:a,closePip:s}}(),{history:q,setHistory:Q,updateHistoryEntry:X,deleteHistory:Y,clearHistory:Z,saveHistory:ee,handleRecordResult:et}=function(e=[]){let[t,a]=(0,r.useState)(e),o=(0,r.useCallback)((e,t,r,o,l,n,i)=>{let c=s[e];if(t<=0)return;let d=0;["rare","uncommon","common"].forEach(e=>{let a=c[e]*t,s=r[e],l=o[e]||1;d+=s/l*a});let x=c.gold*t,m=d+x*(1-(l||0)/100),p=10*(1+.05*(1+(n||0)/100))*t,b="abidos"===e?"fusion":"superiorFusion",u=r[b]||0,h=o[b]||1,f=h>0?u/h:0,g=p*f*.95-m;i(`[ë””ë²„ê·¸] ${b} ê°€ê²©: ${u}, ë²ˆë“¤: ${h}, ê°œë‹¹ê°€ê²©: ${f}, ì˜ˆìƒìˆ˜ìµ: ${g}`);let v={id:crypto.randomUUID(),timestamp:Date.now(),type:e,unitCost:m/p,totalCost:m,expectedOutput:p,expectedProfit:g};a(e=>[v,...e]),i(`[ê¸°ë¡] ì œì‘ ì™„ë£Œ - ì´ìµ: ${Math.floor(g).toLocaleString()}G`)},[]),l=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),n=(0,r.useCallback)(()=>{confirm("ì •ë§ ëª¨ë“  ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&a([])},[]),i=(0,r.useCallback)((e,t,r,s)=>{a(a=>a.map(a=>{if(a.id!==e)return a;let o="abidos"===a.type?"fusion":"superiorFusion",l=r[o]||0,n=s[o]||1,i=t*(n>0?l/n:0)*.95-a.totalCost;return{...a,actualOutput:t,actualProfit:i}}))},[]),c=(0,r.useCallback)((e,t,r)=>{a(a=>{if(0===a.length)return a;let s=a[0],o="abidos"===s.type?"fusion":"superiorFusion",l=t[o]||0,n=r[o]||1,i=e*(n>0?l/n:0)*.95-s.totalCost;return[{...s,actualOutput:e,actualProfit:i},...a.slice(1)]}),alert(`[ê¸°ë¡ ì™„ë£Œ] ì‹¤ì œ ê²°ê³¼ ${e}ê°œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`)},[]);return{history:t,setHistory:a,saveHistory:o,deleteHistory:l,clearHistory:n,updateHistoryEntry:i,handleRecordResult:c}}([]),{craftingState:er,startCrafting:ea,cancelCrafting:es,setCraftingState:eo}=function(e){let[t,a]=(0,r.useState)(()=>{{let e=localStorage.getItem("craftingState");if(e)try{return JSON.parse(e)}catch(e){console.error("Failed to parse craftingState",e)}}return x});return(0,r.useEffect)(()=>{localStorage.setItem("craftingState",JSON.stringify(t))},[t]),(0,r.useEffect)(()=>{if(!t.isActive||!t.endTime)return;let e=setInterval(()=>{let r=Date.now();t.endTime-r<=0&&(a(e=>({...e,isActive:!1})),"granted"===Notification.permission&&new Notification("ì œì‘ ì™„ë£Œ!",{body:`${"abidos"===t.type?"ì•„ë¹„ë„ìŠ¤":"ìƒê¸‰ ì•„ë¹„ë„ìŠ¤"} ìœµí™” ì¬ë£Œ ì œì‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`,icon:"/icon.png"}),clearInterval(e))},1e3);return()=>clearInterval(e)},[t]),(0,r.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),{craftingState:t,startCrafting:(0,r.useCallback)((t,r,s,o)=>{let l=s?4:3,n=Math.max(1,r),i=Math.ceil(n/l),c=("abidos"===t?3600:4500)*Math.max(0,1-((o||0)+10*!!s)/100),d=i*c,x=Date.now();a({isActive:!0,startTime:x,endTime:x+1e3*d,batchDuration:1e3*c,type:t,concurrency:l,totalSlots:n}),e(`[íƒ€ì´ë¨¸] ${"abidos"===t?"ì•„ë¹„ë„ìŠ¤":"ìƒê¸‰"} ì œì‘ ì‹œì‘ (${i}íšŒ ë°˜ë³µ, ì´ ${Math.floor(d/60)}ë¶„)`)},[e]),cancelCrafting:(0,r.useCallback)(()=>{confirm("ì œì‘ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&(a(e=>({...e,isActive:!1,endTime:null})),e("[íƒ€ì´ë¨¸] ì œì‘ ì·¨ì†Œë¨"))},[e]),setCraftingState:a}}(G),[el,en]=(0,r.useState)(!1),[ei,ec]=(0,r.useState)(!1),[ed,ex]=(0,r.useState)("calculator"),[em,ep]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("matCalcData");if(e)try{let t=JSON.parse(e);N(Number(t.targetSlots)||1),k(Number(t.ownedRare)||0),C(Number(t.ownedUncommon)||0),P(Number(t.ownedCommon)||0),t.activeTab&&m(t.activeTab),t.apiKey&&L(t.apiKey),"number"==typeof t.costReduction&&F(t.costReduction),"number"==typeof t.greatSuccessChance&&B(t.greatSuccessChance),"boolean"==typeof t.ninavBlessing&&K(t.ninavBlessing),"number"==typeof t.timeReduction&&J(t.timeReduction),t.history&&Q(t.history),t.apiKey&&"number"==typeof t.costReduction&&"number"==typeof t.greatSuccessChance&&"number"==typeof t.timeReduction&&ep(!0)}catch(e){console.error(e)}en(!0);let t=setTimeout(()=>ec(!0),100);return()=>clearTimeout(t)},[Q]),(0,r.useEffect)(()=>{localStorage.setItem("matCalcData",JSON.stringify({targetSlots:f,ownedRare:w,ownedUncommon:S,ownedCommon:$,activeTab:e,apiKey:M,costReduction:D,greatSuccessChance:_,ninavBlessing:U,timeReduction:V,history:q}))},[f,w,S,$,e,M,D,_,U,V,q]);let eb=(0,r.useMemo)(()=>{let t=Math.max(0,f),r={rare:w,uncommon:S,common:$},a={totalMissingCost:0},o=s[e];return["rare","uncommon","common"].forEach(e=>{let s=o[e]*t,l=s-r[e],n=z[e]||10,i=l<=0?0:Math.ceil(l/n),c=i*(E[e]||0);a[e]={buyCount:i,needed:s,bundleSize:n,cost:c},a.totalMissingCost+=c}),a},[f,w,S,$,e,z,E]),eu=(0,r.useMemo)(()=>{let t=Math.max(0,f);if(0===t)return null;let r=s[e],a="abidos"===e?"fusion":"superiorFusion",o=E[a];if(!o||0===E.rare||0===E.uncommon||0===E.common)return null;let l=0;["rare","uncommon","common"].forEach(e=>{let a=r[e]*t,s=E[e],o=z[e]||1;l+=s/o*a});let n=r.gold*t*(1-(D||0)/100),i=10*(1+.05*(1+(_||0)/100))*t,c=o/(z[a]||1)*i,d=l+n,x=.95*c,m=x-d,p=c-d,b=U?4:3,u=t||1,h=("abidos"===e?3600:4500)*Math.max(0,1-((V||0)+10*!!U)/100);return{grossRevenue:c,sellingRevenue:x,matCost:l,goldCost:n,totalCost:d,sellingProfit:m,usageProfit:p,outputQty:i,hourlySellingProfit:h>0?m/u*b/h*3600:0,hourlyUsageProfit:h>0?p/u*b/h*3600:0}},[f,e,E,z,D,_,U,V]),eh=()=>{k(e=>{let t=eb.rare;return e+t.buyCount*t.bundleSize-t.needed}),C(e=>{let t=eb.uncommon;return e+t.buyCount*t.bundleSize-t.needed}),P(e=>{let t=eb.common;return e+t.buyCount*t.bundleSize-t.needed}),ee(e,f,E,z,D,_,G),ea(e,f,U,V)},ef=!!M&&null!==D&&null!==_&&null!==V&&!T,eg=em&&I;if((0,r.useEffect)(()=>{em&&!ef&&ep(!1)},[em,ef]),(0,r.useEffect)(()=>(window.startCrafting=()=>ea(e,f,U,V),()=>{window.startCrafting=void 0}),[ea,e,f,U,V]),!el)return(0,t.jsx)("div",{className:"min-h-screen bg-[var(--bg-main)]"});let ev=`fixed z-[60] flex flex-col transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] ${em?"top-6 left-6 scale-100 items-start translate-x-0 translate-y-0":"top-[35%] left-1/2 -translate-x-1/2 -translate-y-1/2 md:top-1/2 md:left-auto md:right-[calc(50%+16px)] md:translate-x-0 md:-translate-y-1/2 scale-95 items-center md:items-end"}`,ey=`fixed z-50 flex flex-col transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] ${em?"top-6 right-6 scale-100 items-end translate-x-0 translate-y-0":"top-[65%] left-1/2 -translate-x-1/2 -translate-y-1/2 md:top-1/2 md:left-[calc(50%+16px)] md:translate-x-0 md:-translate-y-1/2 scale-95 items-center md:items-start"}`,ej=`fixed left-1/2 -translate-x-1/2 transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] z-50 flex flex-col items-center whitespace-nowrap pointer-events-none ${em?"top-6 scale-75 opacity-100":"top-[5%] md:top-[7%] scale-100 opacity-100"}`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:`fixed inset-0 bg-[var(--bg-main)]/95 backdrop-blur-md z-40 pointer-events-none flex flex-col items-center justify-center ${em?"opacity-0 invisible":"opacity-100"}`,style:{transition:ei?`opacity 1s cubic-bezier(0.4, 0, 0.2, 1), visibility 0s linear ${em?"1s":"0s"}`:"none"},children:[(0,t.jsx)("div",{className:"absolute top-[10%] md:top-[12%] text-center space-y-3 px-4 pt-16 w-full",children:(0,t.jsxs)("p",{className:`text-slate-300 text-lg md:text-xl font-medium transition-all duration-500 delay-200 ${ef?"opacity-0 -translate-y-4":"opacity-100 translate-y-0"}`,children:["ì •í™•í•œ ì´ë“ ê³„ì‚°ì„ ìœ„í•´ ",(0,t.jsx)("span",{className:"text-[var(--color-primary)] font-bold text-xl md:text-2xl decoration-wavy underline decoration-[var(--color-primary)]/30 underline-offset-4",children:"API Key"}),"ì™€ ",(0,t.jsx)("span",{className:"text-[var(--color-primary)] font-bold text-xl md:text-2xl decoration-wavy underline decoration-[var(--color-primary)]/30 underline-offset-4",children:"ì œì‘ ë³´ë„ˆìŠ¤"}),"ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."]})}),(0,t.jsxs)("div",{className:`absolute bottom-10 md:bottom-24 left-1/2 -translate-x-1/2 transition-all duration-700 pointer-events-auto z-[100] ${ef?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}`,children:[(0,t.jsxs)("button",{onClick:()=>ep(!0),className:"group relative px-8 py-4 bg-[var(--color-primary)] hover:bg-[var(--color-secondary)] text-white text-lg font-black rounded-2xl shadow-2xl hover:shadow-[var(--color-primary)]/50 transition-all active:scale-95 flex items-center gap-3 overflow-hidden",children:[(0,t.jsx)("span",{className:"relative z-10",children:"ê³„ì‚°ê¸° ì‹œì‘í•˜ê¸°"}),(0,t.jsx)("svg",{className:"w-6 h-6 relative z-10 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"})]}),(0,t.jsx)("p",{className:"text-center text-[var(--text-secondary)] text-xs mt-4 animate-pulse uppercase tracking-widest font-bold",children:"All Systems Ready"})]})]}),(0,t.jsxs)("div",{className:ej,children:[(0,t.jsxs)("h1",{className:"text-3xl md:text-4xl font-black text-[var(--text-primary)] tracking-tighter drop-shadow-2xl flex items-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"text-[var(--color-primary)]",children:"Lost Ark"})," Material Calculator"]}),(0,t.jsxs)("div",{className:`flex bg-black/40 backdrop-blur-md rounded-full p-1.5 border border-white/10 transition-all duration-500 delay-200 pointer-events-auto ${em?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:[(0,t.jsx)("button",{onClick:()=>ex("calculator"),className:`px-8 py-2 rounded-full text-sm font-bold transition-all ${"calculator"===ed?"bg-[var(--text-primary)] text-[var(--bg-main)] shadow-lg scale-105":"text-slate-400 hover:text-white"}`,children:"ì¬ë£Œ ê³„ì‚°ê¸°"}),(0,t.jsx)("button",{onClick:()=>ex("history"),className:`px-8 py-2 rounded-full text-sm font-bold transition-all ${"history"===ed?"bg-[var(--text-primary)] text-[var(--bg-main)] shadow-lg scale-105":"text-slate-400 hover:text-white"}`,children:"ì œì‘ ê¸°ë¡"})]})]}),(0,t.jsx)(p,{costReduction:D,setCostReduction:F,greatSuccessChance:_,setGreatSuccessChance:B,ninavBlessing:U,setNinavBlessing:K,timeReduction:V,setTimeReduction:J,className:ev,forceExpanded:!em}),(0,t.jsx)(b,{apiKey:M,setApiKey:L,fetchPrices:e=>O(e),isLoading:A,logs:R,className:ey,forceExpanded:!em,apiError:T}),(0,t.jsx)("div",{className:`max-w-5xl w-full relative transition-opacity duration-1000 pt-32 ${eg?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none h-0 overflow-hidden"}`,children:"calculator"===ed?(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("section",{className:"bg-[var(--bg-panel)]/80 backdrop-blur-md border border-white/5 rounded-[2rem] p-6 shadow-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--color-primary)]/5 to-[var(--color-secondary)]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"}),(0,t.jsx)("header",{className:"mb-4 relative z-10",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-1 p-1 bg-black/40 rounded-xl border border-white/5 shadow-inner",children:[(0,t.jsxs)("button",{onClick:()=>m("abidos"),className:`py-2 rounded-lg text-sm font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 ${"abidos"===e?"bg-[var(--color-primary)] text-white shadow-lg shadow-[var(--color-primary)]/20 scale-[1.02]":"text-slate-500 hover:text-slate-300 hover:bg-white/5"}`,children:[(0,t.jsx)("span",{children:"ì•„ë¹„ë„ìŠ¤"}),E.fusion>0&&(0,t.jsxs)("span",{className:"text-[10px] opacity-90 font-mono bg-black/20 px-2 py-0.5 rounded-full",children:[E.fusion," G"]})]}),(0,t.jsxs)("button",{onClick:()=>m("superior"),className:`py-2 rounded-lg text-sm font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 ${"superior"===e?"bg-[var(--color-secondary)] text-white shadow-lg shadow-[var(--color-secondary)]/20 scale-[1.02]":"text-slate-500 hover:text-slate-300 hover:bg-white/5"}`,children:[(0,t.jsx)("span",{children:"ìƒê¸‰ ì•„ë¹„ë„ìŠ¤"}),E.superiorFusion>0&&(0,t.jsxs)("span",{className:"text-[10px] opacity-90 font-mono bg-black/20 px-2 py-0.5 rounded-full",children:[E.superiorFusion," G"]})]})]})}),(0,t.jsx)(u,{targetSlots:f,setTargetSlots:e=>!isNaN(e)&&N(e),ownedRare:w,setOwnedRare:e=>!isNaN(e)&&k(e),ownedUncommon:S,setOwnedUncommon:e=>!isNaN(e)&&C(e),ownedCommon:$,setOwnedCommon:e=>!isNaN(e)&&P(e),prices:E,bundleCounts:z}),(0,t.jsxs)("div",{className:"pt-4 border-t border-white/5 mt-4",children:[(0,t.jsxs)("button",{onClick:()=>H(e,m),className:"w-full py-3 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] hover:brightness-110 text-white rounded-xl font-bold transition-all shadow-xl shadow-[var(--color-primary)]/20 active:scale-[0.98] flex items-center justify-center gap-2 group/btn",children:[(0,t.jsx)("span",{children:"ì˜¤ë²„ë ˆì´ ì‹¤í–‰"}),(0,t.jsx)("svg",{className:"w-4 h-4 opacity-70 group-hover/btn:opacity-100 transition-opacity",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 00-2 2h10a2 2 0 00-2-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),eu&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("button",{onClick:eh,className:"w-full py-3 bg-[var(--bg-main)] hover:bg-black/40 border border-white/10 hover:border-[var(--color-success)]/50 text-[var(--color-success)] rounded-xl font-bold transition-all active:scale-[0.98] shadow-lg flex items-center justify-center gap-2 mb-4",children:(0,t.jsx)("span",{children:"ì¬ë£Œ ì°¨ê° ë° ì œì‘ ì‹œì‘"})}),(0,t.jsx)(h,{profitStats:eu})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 h-full",children:[(0,t.jsx)("div",{className:"flex flex-col gap-3 flex-1 min-h-0",children:(0,t.jsx)(j,{type:er.type,isActive:er.isActive,startTime:er.startTime,endTime:er.endTime,batchDuration:er.batchDuration,concurrency:er.concurrency,totalSlots:er.totalSlots,onCancel:es,hourlyProfit:Math.floor(eu?.hourlySellingProfit||0),expectedOutput:eu?.outputQty||0,onRecordResult:e=>et(e,E,z)})}),(0,t.jsx)(v,{activeTab:e,results:eb,prices:E})]})]}):(0,t.jsx)(y,{history:q,onDelete:Y,onClear:Z,onUpdateEntry:(e,t)=>X(e,t,E,z)})}),(0,t.jsx)("div",{className:`fixed bottom-6 right-6 z-50 transition-all duration-500 delay-500 ${em?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:(0,t.jsx)(g,{})}),W&&(0,a.createPortal)((0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"tab-box",children:[(0,t.jsx)("button",{className:`tab-btn ${"abidos"===e?"active abidos":""}`,onClick:()=>m("abidos"),children:"ì•„ë¹„ë„ìŠ¤"}),(0,t.jsx)("button",{className:`tab-btn ${"superior"===e?"active superior":""}`,onClick:()=>m("superior"),children:"ìƒê¸‰ ì•„ë¹„ë„ìŠ¤"})]}),(0,t.jsxs)("div",{className:"res-box",children:[(0,t.jsxs)("div",{className:"res-row",children:[(0,t.jsx)("span",{className:"label",children:"í¬ê·€ (33/43)"}),(0,t.jsxs)("span",{className:"price-tag",children:[E.rare,"G"]})]}),(0,t.jsxs)("div",{className:"res-row",children:[(0,t.jsxs)("span",{className:"label text-xs",children:["í•„ìš”: ",eb.rare.needed]}),(0,t.jsx)("span",{className:"buy-val",children:eb.rare.buyCount})]})]}),(0,t.jsxs)("div",{className:"res-box",children:[(0,t.jsxs)("div",{className:"res-row",children:[(0,t.jsx)("span",{className:"label",children:"ê³ ê¸‰ (45/59)"}),(0,t.jsxs)("span",{className:"price-tag",children:[E.uncommon,"G"]})]}),(0,t.jsxs)("div",{className:"res-row",children:[(0,t.jsxs)("span",{className:"label text-xs",children:["í•„ìš”: ",eb.uncommon.needed]}),(0,t.jsx)("span",{className:"buy-val",children:eb.uncommon.buyCount})]})]}),(0,t.jsxs)("div",{className:"res-box",children:[(0,t.jsxs)("div",{className:"res-row",children:[(0,t.jsx)("span",{className:"label",children:"ì¼ë°˜ (86/112)"}),(0,t.jsxs)("span",{className:"price-tag",children:[E.common,"G"]})]}),(0,t.jsxs)("div",{className:"res-row",children:[(0,t.jsxs)("span",{className:"label text-xs",children:["í•„ìš”: ",eb.common.needed]}),(0,t.jsx)("span",{className:"buy-val",children:eb.common.buyCount})]})]}),(0,t.jsxs)("div",{className:"res-box",children:[(0,t.jsx)("span",{className:"label",children:"ë¶€ì¡±ë¶„ êµ¬ë§¤ ë¹„ìš©"}),(0,t.jsxs)("span",{className:"buy-val",style:{color:"var(--color-danger)"},children:[eb.totalMissingCost.toLocaleString()," G"]})]}),(0,t.jsx)("button",{className:"update-btn",onClick:eh,children:"ì°¨ê° ë° ì œì‘ ì‹œì‘"}),eu&&(0,t.jsxs)("div",{className:"profit-split-container",children:[(0,t.jsxs)("div",{className:"profit-split-item",children:[(0,t.jsx)("span",{className:"profit-label",children:"íŒë§¤ ìˆ˜ìµ"}),(0,t.jsx)("span",{className:`profit-val ${eu.sellingProfit>=0?"val-plus":"val-minus"}`,children:Math.floor(eu.sellingProfit).toLocaleString()})]}),(0,t.jsxs)("div",{className:"profit-split-item",children:[(0,t.jsx)("span",{className:"profit-label",children:"ì‚¬ìš© ìˆ˜ìµ"}),(0,t.jsx)("span",{className:`profit-val ${eu.usageProfit>=0?"val-plus":"val-minus"}`,children:Math.floor(eu.usageProfit).toLocaleString()})]})]})]}),W.document.body)]})}e.s(["default",()=>N],42416)}]);